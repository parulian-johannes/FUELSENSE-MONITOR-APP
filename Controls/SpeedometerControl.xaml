<UserControl x:Class="FuelsenseMonitorApp.Controls.SpeedometerControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Width="600" Height="600">
    <UserControl.Resources>
        <!-- Modern Vibrant Color System -->
        <SolidColorBrush x:Key="BackgroundDark" Color="#0F172A"/>
        <SolidColorBrush x:Key="BackgroundMedium" Color="#1E293B"/>
        <SolidColorBrush x:Key="BackgroundLight" Color="#334155"/>
        <SolidColorBrush x:Key="TextPrimary" Color="#F1F5F9"/>
        <SolidColorBrush x:Key="TextSecondary" Color="#E2E8F0"/>
        <SolidColorBrush x:Key="TextMuted" Color="#94A3B8"/>
        
        <!-- Vibrant Dynamic Color Brushes -->
        <LinearGradientBrush x:Key="BlueGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#1E40AF" Offset="0"/>
            <GradientStop Color="#3B82F6" Offset="0.3"/>
            <GradientStop Color="#06B6D4" Offset="0.7"/>
            <GradientStop Color="#0EA5E9" Offset="1"/>
        </LinearGradientBrush>
        
        <LinearGradientBrush x:Key="PurpleGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#7C3AED" Offset="0"/>
            <GradientStop Color="#A855F7" Offset="0.3"/>
            <GradientStop Color="#C084FC" Offset="0.7"/>
            <GradientStop Color="#E879F9" Offset="1"/>
        </LinearGradientBrush>
        
        <LinearGradientBrush x:Key="CyanGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#0891B2" Offset="0"/>
            <GradientStop Color="#06B6D4" Offset="0.3"/>
            <GradientStop Color="#22D3EE" Offset="0.7"/>
            <GradientStop Color="#67E8F9" Offset="1"/>
        </LinearGradientBrush>
        
        <LinearGradientBrush x:Key="OrangeGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#EA580C" Offset="0"/>
            <GradientStop Color="#F97316" Offset="0.3"/>
            <GradientStop Color="#FB923C" Offset="0.7"/>
            <GradientStop Color="#FDBA74" Offset="1"/>
        </LinearGradientBrush>
        
        <LinearGradientBrush x:Key="GreenGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#059669" Offset="0"/>
            <GradientStop Color="#10B981" Offset="0.3"/>
            <GradientStop Color="#34D399" Offset="0.7"/>
            <GradientStop Color="#6EE7B7" Offset="1"/>
        </LinearGradientBrush>
        
        <!-- Default Value Gradient - More Vibrant -->
        <LinearGradientBrush x:Key="DefaultGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#1E40AF" Offset="0"/>
            <GradientStop Color="#3B82F6" Offset="0.5"/>
            <GradientStop Color="#06B6D4" Offset="1"/>
        </LinearGradientBrush>
        
        <!-- Vibrant Backgrounds -->
        <RadialGradientBrush x:Key="CircleBackground">
            <GradientStop Color="#0F172A" Offset="0"/>
            <GradientStop Color="#1E293B" Offset="0.6"/>
            <GradientStop Color="#334155" Offset="1"/>
        </RadialGradientBrush>
        
        <LinearGradientBrush x:Key="RimGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#475569" Offset="0"/>
            <GradientStop Color="#64748B" Offset="0.5"/>
            <GradientStop Color="#334155" Offset="1"/>
        </LinearGradientBrush>
        
        <!-- Enhanced Modern Effects -->
        <DropShadowEffect x:Key="ModernShadow" 
                          Color="#000000" 
                          BlurRadius="16" 
                          ShadowDepth="4" 
                          Opacity="0.6"/>
                          
        <DropShadowEffect x:Key="GlowEffect" 
                          Color="#3B82F6" 
                          BlurRadius="12" 
                          ShadowDepth="0" 
                          Opacity="0.8"/>
                          
        <DropShadowEffect x:Key="InnerGlow" 
                          Color="#1E40AF" 
                          BlurRadius="6" 
                          ShadowDepth="0" 
                          Opacity="0.4"/>
    </UserControl.Resources>
    
    <Grid>
        <!-- Main Background Circle with Modern Shadow -->
        <Ellipse Fill="{StaticResource CircleBackground}" 
                 Stroke="{StaticResource RimGradient}" 
                 StrokeThickness="12"
                 Effect="{StaticResource ModernShadow}"/>
                 
        <!-- Inner Ring with Dynamic Color -->
        <Ellipse x:Name="ColorRing"
                 Fill="Transparent" 
                 Stroke="{StaticResource DefaultGradient}" 
                 StrokeThickness="8" 
                 Margin="50"
                 Effect="{StaticResource GlowEffect}"/>
        
        <!-- Gauge Canvas -->
        <Canvas>
            <!-- Scale Marks -->
            <Canvas x:Name="ScaleMarks"/>
            
            <!-- Background Arc -->
            <Path x:Name="GaugeArc" 
                  Stroke="{StaticResource BackgroundLight}" 
                  StrokeThickness="20" 
                  Fill="Transparent"/>
            
            <!-- Value Arc with Dynamic Color -->
            <Path x:Name="ValueArc" 
                  Stroke="{StaticResource DefaultGradient}" 
                  StrokeThickness="20" 
                  Fill="Transparent"/>
                  
            <!-- Modern Speedometer Needle -->
            <Path x:Name="Needle" 
                  Fill="White"
                  Stroke="#FF4444"
                  StrokeThickness="3"
                  Data="M 300,300 L 300,150 L 306,150 L 300,140 L 294,150 L 300,300 Z"
                  RenderTransformOrigin="0.5,0.5">
                <Path.RenderTransform>
                    <RotateTransform x:Name="NeedleTransform" Angle="-135" CenterX="300" CenterY="300"/>
                </Path.RenderTransform>
                <Path.Effect>
                    <DropShadowEffect Color="#FF0000" BlurRadius="8" ShadowDepth="2" Opacity="0.8"/>
                </Path.Effect>
            </Path>
            
            <!-- Needle Center Hub -->
            <Ellipse Fill="#333333" 
                     Width="20" Height="20" 
                     Canvas.Left="290" Canvas.Top="290"
                     Stroke="White"
                     StrokeThickness="2"/>
        </Canvas>
        
        <!-- Center Circle with Icon -->
        <Ellipse Fill="{StaticResource BackgroundMedium}" 
                 Width="80" Height="80" 
                 HorizontalAlignment="Center" 
                 VerticalAlignment="Center"
                 Stroke="{StaticResource DefaultGradient}"
                 StrokeThickness="6"/>
                 
        <!-- Center Icon Display -->
        <TextBlock x:Name="CenterIcon"
                   Text="âš¡"
                   FontSize="36"
                   FontWeight="Bold"
                   Foreground="{StaticResource TextPrimary}"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"
                   Effect="{StaticResource InnerGlow}"/>
        
        <!-- Modern Digital Display -->
        <Border x:Name="DisplayBorder"
                Background="{StaticResource BackgroundMedium}" 
                BorderBrush="{StaticResource DefaultGradient}" 
                BorderThickness="6"
                CornerRadius="28"
                Width="240" Height="100"
                HorizontalAlignment="Center" 
                VerticalAlignment="Bottom" 
                Margin="0,0,0,80"
                Effect="{StaticResource ModernShadow}">
            <Border.OpacityMask>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="#FF000000" Offset="0"/>
                    <GradientStop Color="#E0000000" Offset="1"/>
                </LinearGradientBrush>
            </Border.OpacityMask>
            
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock x:Name="ValueText" 
                           Text="0" 
                           FontSize="48" 
                           FontWeight="Bold" 
                           Foreground="{StaticResource TextPrimary}" 
                           HorizontalAlignment="Center"
                           FontFamily="Segoe UI"
                           Effect="{StaticResource InnerGlow}"/>
                <TextBlock x:Name="UnitText" 
                           Text="{Binding Unit, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                           FontSize="22" 
                           FontWeight="Medium"
                           Foreground="{StaticResource TextSecondary}" 
                           HorizontalAlignment="Center"
                           FontFamily="Segoe UI"/>
            </StackPanel>
        </Border>
        
        <!-- Modern Title Display -->
        <StackPanel HorizontalAlignment="Center" 
                    VerticalAlignment="Top" 
                    Margin="0,60,0,0">
            <TextBlock x:Name="TitleText" 
                       Text="{Binding Title, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                       FontSize="28" 
                       FontWeight="Bold" 
                       Foreground="{StaticResource TextPrimary}" 
                       HorizontalAlignment="Center"
                       FontFamily="Segoe UI"/>
            
            <TextBlock x:Name="SensorLabel" 
                       Text="SENSOR MONITOR" 
                       FontSize="18" 
                       FontWeight="Medium" 
                       Foreground="{StaticResource TextSecondary}" 
                       HorizontalAlignment="Center"
                       FontFamily="Segoe UI"
                       Margin="0,10,0,0"/>
        </StackPanel>
    </Grid>
</UserControl>